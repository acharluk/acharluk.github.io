<!DOCTYPE html>
<html>
	<head>
		<title></title>
		
		<style>
			body {
				position: absolute;
				min-height: 100%;
				min-width: 100%;
			}
		</style>
		
		<script>
			function PeticionAjax (url, callback) {
				this.url = url;
				
				this.Send = function() {
					if (window.XMLHttpRequest) { // code for IE7+, Firefox, Chrome, Opera, Safari
						var xmlhttp = new XMLHttpRequest();
					}
					else { // code for IE6, IE5
						xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
					}
					
					xmlhttp.onreadystatechange = function() {
						if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
							callback(xmlhttp.responseText);
						}
					}
					xmlhttp.open("GET", this.url, true);
					xmlhttp.send();
				}
			}
			
			function jsonFlickrApi(resp) {
				if (resp.stat == "ok") {
					console.log(resp);
					MuestraFoto(resp.photos.photo[0]);
				}
			}
			
			function MuestraFoto(ans) {
				var image_url = "http://farm" + ans.farm + ".staticflickr.com/" + ans.server + "/" + ans.id + "_" + ans.secret + "_b.jpg";
				document.body.style.background = "url('" + image_url + "') top left no-repeat";
				document.body.style.backgroundSize = 'cover';
				document.body.style.OBackgroundSize = 'cover';
				document.body.style.MsBackgroundSize = 'cover';
				document.body.style.MozBackgroundSize = 'cover';
				document.body.style.WebkitBackgroundSize = 'cover';
				document.body.style.backgroundAttachment = 'fixed';
			}
			
			var request_url = "http://api.flickr.com/services/rest/?method=flickr.interestingness.getList&api_key=57173f814692d24e8ff63ef78f15f057&per_page=1&page=1&format=json&api_sig=b4f4544d078cc120974c0f871ab258e1";
			
			var request = new PeticionAjax(request_url, eval);
			request.Send();
			
		</script>
	</head>
	<body>

	
	</body>
</html>